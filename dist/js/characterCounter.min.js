(()=>{var e=Object.defineProperty;var t=(t,r)=>e(t,"name",{value:r,configurable:true});((Drupal,e)=>{const r=0;const n=1;const a=2;const c=t((e,t)=>Drupal.t("Characters: @counted/@total",{"@counted":e,"@total":t},{context:"Character counter"}),"characterCounter");const o=t((e,t,c)=>e>=c?a:e>t&&t>0?n:r,"processWarningType");const s=t((e,t,c,o,s)=>{if(e===a){s.classList.remove("is-hidden");if(o==="input"){return Drupal.t("The recommended maximum length for the title is @total characters.",{"@total":c},{context:"Character counter"})}else{return Drupal.t("The recommended maximum length for the lead is @total characters.",{"@total":c},{context:"Character counter"})}}if(e===n){s.classList.remove("is-hidden");return Drupal.t("Consider shortening. A lead under @step characters works best for search engines.",{"@step":t},{context:"Character counter"})}s.classList.add("is-hidden");return r},"characterWarning");const i=t(e=>e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").replace(/&#?[a-z0-9]+;/i," ").trim().length,"convertHtmlTags");Drupal.behaviors.characterCounter={attach:t(function n(a){const u=e("character-counter","[data-character-counter]",a);if(u.length===0){return}u.forEach(e=>{const n=e.dataset.characterCounter;const u=e.dataset.counterInputTag;const l=e.dataset.counterTotal;const d=e.dataset.counterStep;const h=e.querySelector(".character-counter__warning");const m=a.querySelector(`.${n}`);if(!m){return}const f=m.querySelector("[data-counter-id]");const p=m.querySelector("[data-warning-id]");const g=u==="multifield"?m.querySelector("input"):m.querySelector(u);if(!g){return}let v=r;if(u==="textarea"&&m.parentElement.classList.contains("form-item")&&m.parentElement.querySelector(".form-item__description")){m.parentElement.querySelector(".form-item__description").insertAdjacentElement("afterend",e)}const C=t(e=>{v=o(e,d,l);f.textContent=c(e,l);if(u!=="multifield"){p.textContent=s(v,d,l,u,h)}},"updateCharacterCounter");if(g.value.length>0){C(g.value.length)}if(u==="input"){g.addEventListener("input",function(){C(g.value.length)})}else{setTimeout(function(){const e=g.parentElement.querySelector(".ck-editor__editable");if(e&&e.ckeditorInstance){const t=e.ckeditorInstance;t.model.document.on("change:data",()=>{C(i(t.getData()))})}else{g.addEventListener("input",function(){C(g.value.length)})}})}})},"attach")}})(Drupal,once)})();