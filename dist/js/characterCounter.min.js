!function(){"use strict";((Drupal,t)=>{const e=(t,e)=>Drupal.t("Characters: @counted/@total",{"@counted":t,"@total":e},{context:"Character counter"}),n=(t,e,n)=>t>=n?2:t>e&&e>0?1:0,r=(t,e,n,r,a)=>2===t?(a.classList.remove("is-hidden"),"input"===r?Drupal.t("The recommended maximum length for the title is @total characters.",{"@total":n},{context:"Character counter"}):Drupal.t("The recommended maximum length for the lead is @total characters.",{"@total":n},{context:"Character counter"})):1===t?(a.classList.remove("is-hidden"),Drupal.t("Consider shortening. A lead under @step characters works best for search engines.",{"@step":e},{context:"Character counter"})):(a.classList.add("is-hidden"),0),a=t=>t.replace(/<[^>]*>/g," ").replace(/\s+/g," ").replace(/&#?[a-z0-9]+;/i," ").trim().length;Drupal.behaviors.characterCounter={attach:function(c){const o=t("character-counter","[data-character-counter]",c);o&&o.forEach((t=>{const o=t.dataset.characterCounter,i=t.dataset.counterInputTag,s=t.dataset.counterTotal,l=t.dataset.counterStep,u=t.querySelector(".character-counter__warning"),d=c.querySelector(`.${o}`);if(!d)return;const h=d.querySelector("[data-counter-id]"),m=d.querySelector("[data-warning-id]"),g=d.querySelector(i);if(!g)return;let p=0;"textarea"===i&&d.parentElement.classList.contains("form-item")&&d.parentElement.querySelector(".form-item__description")&&d.parentElement.querySelector(".form-item__description").insertAdjacentElement("afterend",t),g.value.length>0&&(p=n(g.value.length,l,s),h.textContent=e(g.value.length,s),m.textContent=r(p,l,s,i,u)),"input"===i?g.addEventListener("input",(function(){p=n(g.value.length,l,s),h.textContent=e(g.value.length,s),m.textContent=r(p,l,s,i,u)})):setTimeout((function(){const t=g.parentElement.querySelector(".ck-editor__editable");if(t&&t.ckeditorInstance){const c=t.ckeditorInstance;c.model.document.on("change:data",(()=>{p=n(a(c.getData()),l,s),h.textContent=e(a(c.getData()),s),m.textContent=r(p,l,s,i,u)}))}}))}))}}})(Drupal,once)}();