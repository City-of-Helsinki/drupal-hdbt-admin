!function(){"use strict";(t=>{const e=(e,n)=>t.t("Characters: @counted/@total",{"@counted":e,"@total":n},{context:"Character counter"}),n=(e,n,a,r)=>e>=a?"input"===r?t.t("The recommended maximum length for the title is @total characters.",{"@total":a},{context:"Character counter"}):t.t("The recommended maximum length for the lead is @total characters.",{"@total":a},{context:"Character counter"}):e>n&&n>0?t.t("Consider shortening. A lead under @step characters works best for search engines.",{"@step":n},{context:"Character counter"}):"",a=t=>t.replace(/<[^>]*>/g," ").replace(/\s+/g," ").replace(/&#?[a-z0-9]+;/i," ").trim().length;t.behaviors.characterCounter={attach:function(){const t=document.querySelectorAll("[data-counter-id]");t&&t.forEach((function(t){if(!t.dataset.counterId)return;const r=t.dataset.counterInputTag,o=t.dataset.counterTotal,c=t.dataset.counterStep,u=document.querySelector(`.${t.dataset.counterId}`);if(!u)return;const l=u.querySelector("[data-counter-id]"),d=u.querySelector("[data-warning-id]"),i=u.querySelector(r);i&&(i.value.length>0&&(l.textContent=e(i.value.length,o),d.textContent=n(i.value.length,c,o,r)),"input"===r?i.addEventListener("input",(function(){l.textContent=e(i.value.length,o),d.textContent=n(i.value.length,c,o,r)})):setTimeout((function(){const t=i.parentElement.querySelector(".ck-editor__editable");if(t&&t.ckeditorInstance){const u=t.ckeditorInstance;u.model.document.on("change:data",(()=>{l.textContent=e(a(u.getData()),o),d.textContent=n(a(u.getData()),c,o,r)}))}})))}))}}})(Drupal)}();