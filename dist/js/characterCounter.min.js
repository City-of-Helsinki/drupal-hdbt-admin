(()=>{var t=Object.defineProperty;var e=(e,r)=>t(e,"name",{value:r,configurable:true});((Drupal,t)=>{const r=0;const n=1;const a=2;const c=e((t,e)=>Drupal.t("Characters: @counted/@total",{"@counted":t,"@total":e},{context:"Character counter"}),"characterCounter");const o=e((t,e,c)=>t>=c?a:t>e&&e>0?n:r,"processWarningType");const i=e((t,e,c,o,i)=>{if(t===a){i.classList.remove("is-hidden");if(o==="input"){return Drupal.t("The recommended maximum length for the title is @total characters.",{"@total":c},{context:"Character counter"})}else{return Drupal.t("The recommended maximum length for the lead is @total characters.",{"@total":c},{context:"Character counter"})}}if(t===n){i.classList.remove("is-hidden");return Drupal.t("Consider shortening. A lead under @step characters works best for search engines.",{"@step":e},{context:"Character counter"})}i.classList.add("is-hidden");return r},"characterWarning");const s=e(t=>t.replace(/<[^>]*>/g," ").replace(/\s+/g," ").replace(/&#?[a-z0-9]+;/i," ").trim().length,"convertHtmlTags");Drupal.behaviors.characterCounter={attach:e(function n(a){const u=t("character-counter","[data-character-counter]",a);if(u.length===0){return}u.forEach(t=>{const n=t.dataset.characterCounter;const u=t.dataset.counterInputTag;const l=t.dataset.counterTotal;const d=t.dataset.counterStep;const h=t.querySelector(".character-counter .form-notification");const m=a.querySelector(`.${n}`);if(!m){return}const f=m.querySelector("[data-counter-id]");const p=m.querySelector("[data-warning-id]");const g=u==="multifield"?m.querySelector("input"):m.querySelector(u);if(!g){return}let v=r;if(u==="textarea"&&m.parentElement.classList.contains("form-item")&&m.parentElement.querySelector(".form-item__description")){m.parentElement.querySelector(".form-item__description").insertAdjacentElement("afterend",t)}const C=e(t=>{v=o(t,d,l);f.textContent=c(t,l);if(u!=="multifield"){p.textContent=i(v,d,l,u,h)}},"updateCharacterCounter");if(g.value.length>0){C(g.value.length)}if(u==="input"){g.addEventListener("input",function(){C(g.value.length)})}else{setTimeout(function(){const t=g.parentElement.querySelector(".ck-editor__editable");if(t&&t.ckeditorInstance){const e=t.ckeditorInstance;e.model.document.on("change:data",()=>{C(s(e.getData()))})}else{g.addEventListener("input",function(){C(g.value.length)})}})}})},"attach")}})(Drupal,once)})();