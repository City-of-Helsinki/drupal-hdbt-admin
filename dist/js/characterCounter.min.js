!function(){"use strict";((t,e)=>{const n=(e,n)=>t.t("Characters: @counted/@total",{"@counted":e,"@total":n},{context:"Character counter"}),r=(t,e,n)=>t>=n?2:t>e&&e>0?1:0,a=(e,n,r,a,c)=>2===e?(c.classList.remove("is-hidden"),"input"===a?t.t("The recommended maximum length for the title is @total characters.",{"@total":r},{context:"Character counter"}):t.t("The recommended maximum length for the lead is @total characters.",{"@total":r},{context:"Character counter"})):1===e?(c.classList.remove("is-hidden"),t.t("Consider shortening. A lead under @step characters works best for search engines.",{"@step":n},{context:"Character counter"})):(c.classList.add("is-hidden"),0),c=t=>t.replace(/<[^>]*>/g," ").replace(/\s+/g," ").replace(/&#?[a-z0-9]+;/i," ").trim().length;t.behaviors.characterCounter={attach:function(t){const o=e("character-counter","[data-character-counter]",t);o&&o.forEach((e=>{const o=e.dataset.characterCounter,i=e.dataset.counterInputTag,s=e.dataset.counterTotal,l=e.dataset.counterStep,u=e.querySelector(".character-counter__warning"),d=t.querySelector(`.${o}`);if(!d)return;const h=d.querySelector("[data-counter-id]"),m=d.querySelector("[data-warning-id]"),g=d.querySelector(i);if(!g)return;let p=0;"textarea"===i&&d.parentElement.classList.contains("form-item")&&d.parentElement.querySelector(".form-item__description")&&d.parentElement.querySelector(".form-item__description").insertAdjacentElement("afterend",e),g.value.length>0&&(p=r(g.value.length,l,s),h.textContent=n(g.value.length,s),m.textContent=a(p,l,s,i,u)),"input"===i?g.addEventListener("input",(function(){p=r(g.value.length,l,s),h.textContent=n(g.value.length,s),m.textContent=a(p,l,s,i,u)})):setTimeout((function(){const t=g.parentElement.querySelector(".ck-editor__editable");if(t&&t.ckeditorInstance){const e=t.ckeditorInstance;e.model.document.on("change:data",(()=>{p=r(c(e.getData()),l,s),h.textContent=n(c(e.getData()),s),m.textContent=a(p,l,s,i,u)}))}}))}))}}})(Drupal,once)}();